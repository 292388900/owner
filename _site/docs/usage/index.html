<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>Basic usage</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="OWNER • Java™ properties reinvented. - Feed" href="/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to OWNER’s master branch" href="https://github.com/lviggiano/owner/commits/master.atom" />
  <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="http://localhost:4000/css/normalize.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/gridism.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/style.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/pygments.css" />
  <link rel="icon" type="image/x-icon" href="http://localhost:4000/favicon.png" />
  <script src="http://localhost:4000/js/modernizr-2.5.3.min.js"></script>
</head>


<body class="wrap">

  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="http://localhost:4000/">Overview</a>
  </li>
  <li class="current">
    <a href="http://localhost:4000/docs/welcome">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="http://localhost:4000/news">News</a>
  </li>
  <li class="">
    <a href="https://github.com/lviggiano/owner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <a href="http://localhost:4000/">
        <h1>
          <span class="shadow">OWNER</span>
        </h1>
        <small class="shadow">Java&trade; properties reinvented.</small>
      </a>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="http://localhost:4000/">Overview</a>
  </li>
  <li class="current">
    <a href="http://localhost:4000/docs/welcome">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="http://localhost:4000/news">News</a>
  </li>
  <li class="">
    <a href="https://github.com/lviggiano/owner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
  <div class="ribbon">
    <a href="https://github.com/lviggiano/owner"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
    <select onchange="if (this.value) window.location.href=this.value">

        <option value="">Navigate the docs…</option>

        <optgroup label="Getting started">
            <option value="http://localhost:4000/docs/welcome/">Welcome</option>
            <option value="http://localhost:4000/docs/installation/">Installation
            </option>
            <option value="http://localhost:4000/docs/usage/">Basic usage</option>
        </optgroup>

        <optgroup label="More Features">
            <option value="http://localhost:4000/docs/loading-strategies/">Loading strategies</option>
            <option value="http://localhost:4000/docs/importing-properties/">Importing properties</option>
            <option value="http://localhost:4000/docs/parametrized-properties/">Parametrized properties</option>
            <option value="http://localhost:4000/docs/type-conversion/">Type conversion</option>
            <option value="http://localhost:4000/docs/variables-expansion/">Variables expansion</option>
            <option value="http://localhost:4000/docs/reload/">Reload and Hot Reload</option>
            <option value="http://localhost:4000/docs/accessible-mutable/">Accessible and Mutable</option>
            <option value="http://localhost:4000/docs/debugging/">Debugging</option>
            <option value="http://localhost:4000/docs/disabling-features/">Disabling features</option>
            <option value="http://localhost:4000/docs/configuring/">Metaconfiguring</option>
            <option value="http://localhost:4000/docs/xml-support/">XML support</option>
            <option value="http://localhost:4000/docs/event-support/">Event support</option>
            <option value="http://localhost:4000/docs/singleton/">Singleton</option>
        </optgroup>

        <optgroup label="Miscellaneous">
            <option value="http://localhost:4000/docs/features/">Features</option>
            <option value="http://localhost:4000/docs/why/">Why OWNER?</option>
            <option value="http://localhost:4000/docs/faq/">FAQ</option>
            <option value="http://localhost:4000/docs/support/">Getting support</option>
        </optgroup>

        <optgroup label="Meta">
            <option value="http://localhost:4000/docs/building/">Building from sources</option>
            <option value="http://localhost:4000/docs/contributing/">Contributing</option>
            <option value="http://localhost:4000/docs/license/">License</option>
        </optgroup>

        <optgroup label="Other stuff">
            <option value="http://localhost:4000/news/releases/">History</option>
            <option value="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.aeonbits.owner%22%20AND%20a%3A%22owner%22">Downloads</option>
            <option value="https://github.com/lviggiano/owner/releases">Releases</option>
            <option value="http://owner.newinstance.it/latest/apidocs/index.html">Javadocs</option>
            <option value="https://aeonbits.ci.cloudbees.com/job/owner-api/">Jenkins reports</option>
            <option value="https://travis-ci.org/lviggiano/owner">Travis CI reports</option>
            <option value="http://dev.aeonbits.org:9000/dashboard/index/org.aeonbits.owner:owner">Sonar reports</option>
            <option value="https://coveralls.io/r/lviggiano/owner">Coveralls reports</option>
            <option value="http://newinstance.it/owner/latest/">Maven site</option>
            <option value="https://www.ohloh.net/p/owner">OWNER at Ohloh</option>
        </optgroup>

    </select>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>Basic usage</h1>
          <p>The approach used by OWNER APIs, is to define a Java interface associated to a
properties file.</p>

<p>Suppose your properties file is defined as <code>ServerConfig.properties</code>:  </p>
<div class="highlight"><pre><code class="language-properties" data-lang="properties"><span class="na">port</span><span class="o">=</span><span class="s">80</span>
<span class="na">hostname</span><span class="o">=</span><span class="s">foobar.com</span>
<span class="na">maxThreads</span><span class="o">=</span><span class="s">100</span>
</code></pre></div>
<p>To access this properties file you need to define a convenient Java interface 
<code>ServerConfig.java</code> in the same package:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.aeonbits.owner.Config</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ServerConfig</span> <span class="kd">extends</span> <span class="n">Config</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="nf">port</span><span class="o">();</span>
    <span class="n">String</span> <span class="nf">hostname</span><span class="o">();</span>
    <span class="nd">@DefaultValue</span><span class="o">(</span><span class="s">&quot;42&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">maxThreads</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div>
<p>Notice that the above interface extends from <code>Config</code>, that
is a marker interface recognized by OWNER as valid to work with.</p>

<p>We&#39;ll call this interface the <em>Properties Mapping Interface</em> or just
<em>Mapping Interface</em> since its goal is to map Properties into a an easy to use
piece of code.</p>

<h2 id="how-does-the-mapping-work?">How does the mapping work?</h2>

<p>Since the properties file does have the same name as the Java class, and they
are located in the same package, the OWNER API will be able to automatically
associate them.<br>
For instance, if your <em>mapping interface</em> is called <code>com.foo.bar.ServerConfig</code>, 
OWNER will try to associate it to <code>com.foo.bar.ServerConfig.properties</code>, 
loading from the classpath.  </p>

<p>The properties names defined in the properties file will be associated to the
methods in the Java class having the same name.<br>
For instance, the property <code>port</code> defined in the properties file will be 
associated to the method <code>int port()</code> in the Java class, the property <code>hostname</code>
will be associated to the method <code>String hostname()</code> and the appropriate type
conversion will apply automatically, so the method <code>port()</code> will return an int
while the method <code>hostname()</code> will return a Java string, since the interface is
defined in this way.</p>

<p>The mapping mechanism is fully customizable, as well the automatic type 
conversion we just introduced is flexible enough to cover most of the Java types 
as well as object types defined by the user.<br>
You can see how in the next chapters.</p>

<h2 id="using-the-config-object">Using the Config object</h2>

<p>At this point, you can create the ServerConfig object and use it in your code:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">ServerConfig</span> <span class="n">cfg</span> <span class="o">=</span> <span class="n">ConfigFactory</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">ServerConfig</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Server &quot;</span> <span class="o">+</span> <span class="n">cfg</span><span class="o">.</span><span class="na">hostname</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot;:&quot;</span> <span class="o">+</span> <span class="n">cfg</span><span class="o">.</span><span class="na">port</span><span class="o">()</span> <span class="o">+</span>
                   <span class="s">&quot; will run &quot;</span> <span class="o">+</span> <span class="n">cfg</span><span class="o">.</span><span class="na">maxThreads</span><span class="o">());</span>
</code></pre></div>
<h2 id="using-@defaultvalue-and-@key-annotations">Using @DefaultValue and @Key annotations</h2>

<p>Did you notice that in the above example it is specified <code>@DefaultValue(&quot;42&quot;)</code> 
annotation? </p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ServerConfig</span> <span class="kd">extends</span> <span class="n">Config</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="nf">port</span><span class="o">();</span>
    <span class="n">String</span> <span class="nf">hostname</span><span class="o">();</span>
    <span class="nd">@DefaultValue</span><span class="o">(</span><span class="s">&quot;42&quot;</span><span class="o">)</span>    <span class="c1">// here!!!</span>
    <span class="kt">int</span> <span class="nf">maxThreads</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div>
<p>It is used in case the <code>maxThread</code> key is missing from the
properties file.</p>

<p>This annotation gets automatically converted to <code>int</code>, since <code>maxThreads()</code>
returns an <code>int</code>. </p>

<p>Using the annotations, you can also customize the property keys:</p>
<div class="highlight"><pre><code class="language-properties" data-lang="properties"><span class="c"># Example of property file &#39;ServerConfig.properties&#39;</span>
<span class="na">server.http.port</span><span class="o">=</span><span class="s">80</span>
<span class="na">server.host.name</span><span class="o">=</span><span class="s">foobar.com</span>
<span class="na">server.max.threads</span><span class="o">=</span><span class="s">100</span>
</code></pre></div>
<p>This time, as commonly happens in Java applications, the properties names are
separated by dots. Instead of just &quot;port&quot; we have &quot;server.http.port&quot;, so we
need to map this property name to the associated method using the <code>@Key</code>
annotation.</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="cm">/*</span>
<span class="cm"> * Example of ServerConfig.java interface mapping the previous </span>
<span class="cm"> * properties file.</span>
<span class="cm"> */</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ServerConfig</span> <span class="kd">extends</span> <span class="n">Config</span> <span class="o">{</span>
    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.http.port&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">port</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.host.name&quot;</span><span class="o">)</span>
    <span class="n">String</span> <span class="nf">hostname</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.max.threads&quot;</span><span class="o">);</span>
    <span class="nd">@DefaultValue</span><span class="o">(</span><span class="s">&quot;42&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">maxThreads</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div>
<p>The <code>@DefaultValue</code> and <code>@Key</code> annotations are the basics to start using the
OWNER API.</p>

<div class="note">
  <h5>You can leave the properties file away during development!</h5>
  <p>
     During the development you may decide to just use the `@DefaultValue` to
     provide a default configuration, without really adding the properties file.
     You can add the properties file later or leave this task to the end user.
  </p>
</div>

<h2 id="undefined-properties">Undefined properties</h2>

<p>Suppose you have defined a method in your <em>mapping interface</em> that cannot be 
resolved to any property loaded from a properties file, and this method doesn&#39;t 
define a <code>@DefaultValue</code> what happens? Simple: it will return null, or a 
NullPointerException;</p>

<p>Suppose our ServerConfig class was looking like this:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kd">interface</span> <span class="nc">ServerConfig</span> <span class="kd">extends</span> <span class="n">Config</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">hostname</span><span class="o">();</span>
    <span class="kt">int</span> <span class="nf">port</span><span class="o">();</span>
    <span class="n">Boolean</span> <span class="nf">debugEnabled</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div>
<p>If we don&#39;t have any ServerConfig.properties associated to it, when we call the
method <code>String hostname()</code> it will return null, as well as when we call the 
method <code>Boolean debugEnabled()</code> since the return types String and Boolean are
java objects. But if we call the method <code>int port()</code> then a 
<code>NullPointerException</code> will be raised.</p>

<div class="note">
  <h5>You don't want the NullPointerException?</h5>
  <p>
    If you don't want to get the NullPointerException, you can just define
    a default value. For instance, you can set <tt>@DefaultValue("0")</tt> for
    an <tt>int</tt> return type, or a <tt>@DefaultValue("false")</tt> for a 
    <tt>boolean</tt> return type, and so on...
  </p>
</div>

<h2 id="conclusions">Conclusions</h2>

<p>Now you know the minimum to get productive with the OWNER API. But this is just
the beginning. OWNER is a rich API that allows you to add additional behaviors
and have more interesting features, so that you should be able to use this 
library virtually in any other context where you where using the 
<code>java.util.Properties</code> class.</p>

          <div class="section-nav">
  <div class="left align-right">
    
      <a href="http://localhost:4000/docs/installation" class="prev">
        Back
      </a>
    
  </div>
  <div class="right align-left">
    
      <a href="http://localhost:4000/docs/loading-strategies" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>


        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>

    <h4>Getting Started</h4>
    <ul>
      <li class="">
        <a href="http://localhost:4000/docs/welcome">Welcome</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/installation">Installation</a>
      </li>
      <li class="current">
        <a href="http://localhost:4000/docs/usage">Basic usage</a>
      </li>
    </ul>

    <h4>More Features</h4>
    <ul>
    <li class="">
    <a href="http://localhost:4000/docs/loading-strategies">Loading strategies</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/importing-properties">Importing properties</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/parametrized-properties/">Parametrized properties</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/type-conversion/">Type conversion</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/variables-expansion/">Variables expansion</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/reload/">Reload and Hot Reload</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/accessible-mutable/">Accessible and Mutable</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/debugging/">Debugging</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/disabling-features/">Disabling features</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/configuring/">Metaconfiguring</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/xml-support/">XML support</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/event-support/">Event support</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/singleton/">Singleton</a>
    </li>
</ul>


    <h4>Miscellaneous</h4>
    <ul>
        <li class="">
            <a href="http://localhost:4000/docs/features/">Features</a>
        </li>
        <li class="">
          <a href="http://localhost:4000/docs/why/">Why OWNER?</a>
        </li>
        <li class="">
            <a href="http://localhost:4000/docs/faq/">FAQ</a>
        </li>

        <li class="">
            <a href="http://localhost:4000/docs/support/">Getting support</a>
        </li>
    </ul>

    <h4>Meta</h4>
    <ul>
      <li class="">
        <a href="http://localhost:4000/docs/building">Building from sources</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/contributing">Contributing</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/license">License</a>
      </li>
    </ul>

    <h4>Other stuff</h4>
    <ul>
      <li><a href="http://localhost:4000/news/releases/">History</a></li>
      <li><a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.aeonbits.owner%22%20AND%20a%3A%22owner%22">Downloads</a></li>
      <li><a href="https://github.com/lviggiano/owner/releases">Releases</a></li>
      <li><a href="http://owner.newinstance.it/latest/apidocs/index.html">Javadocs</a></li>
      <li><a href="https://aeonbits.ci.cloudbees.com/job/owner-api/">Jenkins reports</a></li>
      <li><a href="https://travis-ci.org/lviggiano/owner">Travis CI reports</a></li>
      <li><a href="http://dev.aeonbits.org:9000/dashboard/index/org.aeonbits.owner:owner">Sonar reports</a></li>
      <li><a href="https://coveralls.io/r/lviggiano/owner">Coveralls reports</a></li>
      <li><a href="http://newinstance.it/owner/latest/">Maven site</a></li>
      <li><a href="https://www.ohloh.net/p/owner">OWNER at Ohloh</a></li>
    </ul>

  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>Project maintained by <a href="https://github.com/lviggiano">Luigi R. Viggiano</a>,
          and the <a href="https://github.com/lviggiano/owner/graphs/contributors">awesome contributors</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Hosted on
        <a href="https://github.com">
          <img src="http://localhost:4000/img/footer-logo.png" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  


  <!-- Google Analytics (http://google.com/analytics) -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-462505-8']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>

</html>

