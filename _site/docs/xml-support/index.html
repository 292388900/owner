<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <title>XML support</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="alternate" type="application/rss+xml" title="OWNER • Java™ properties reinvented. - Feed" href="/feed.xml" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to OWNER’s master branch" href="https://github.com/lviggiano/owner/commits/master.atom" />
  <link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Arizonia' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="http://localhost:4000/css/normalize.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/gridism.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/style.css" />
  <link rel="stylesheet" href="http://localhost:4000/css/pygments.css" />
  <link rel="icon" type="image/x-icon" href="http://localhost:4000/favicon.png" />
  <script src="http://localhost:4000/js/modernizr-2.5.3.min.js"></script>
</head>


<body class="wrap">

  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="http://localhost:4000/">Overview</a>
  </li>
  <li class="current">
    <a href="http://localhost:4000/docs/welcome">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="http://localhost:4000/news">News</a>
  </li>
  <li class="">
    <a href="https://github.com/lviggiano/owner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <a href="http://localhost:4000/">
        <h1>
          <span class="shadow">OWNER</span>
        </h1>
        <small class="shadow">Java&trade; properties reinvented.</small>
      </a>
    </div>
    <nav class="main-nav unit two-thirds hide-on-mobiles">
      <ul>
  <li class="">
    <a href="http://localhost:4000/">Overview</a>
  </li>
  <li class="current">
    <a href="http://localhost:4000/docs/welcome">Doc<span class="show-on-mobiles">s</span><span class="hide-on-mobiles">umentation</span></a>
  </li>
  <li class="">
    <a href="http://localhost:4000/news">News</a>
  </li>
  <li class="">
    <a href="https://github.com/lviggiano/owner"><span class="hide-on-mobiles">View on </span>GitHub</a>
  </li>
</ul>

    </nav>
  </div>
  <div class="ribbon">
    <a href="https://github.com/lviggiano/owner"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>
  </div>
</header>


    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
    <select onchange="if (this.value) window.location.href=this.value">

        <option value="">Navigate the docs…</option>

        <optgroup label="Getting started">
            <option value="http://localhost:4000/docs/welcome/">Welcome</option>
            <option value="http://localhost:4000/docs/installation/">Installation
            </option>
            <option value="http://localhost:4000/docs/usage/">Basic usage</option>
        </optgroup>

        <optgroup label="More Features">
            <option value="http://localhost:4000/docs/loading-strategies/">Loading strategies</option>
            <option value="http://localhost:4000/docs/importing-properties/">Importing properties</option>
            <option value="http://localhost:4000/docs/parametrized-properties/">Parametrized properties</option>
            <option value="http://localhost:4000/docs/type-conversion/">Type conversion</option>
            <option value="http://localhost:4000/docs/variables-expansion/">Variables expansion</option>
            <option value="http://localhost:4000/docs/reload/">Reload and Hot Reload</option>
            <option value="http://localhost:4000/docs/accessible-mutable/">Accessible and Mutable</option>
            <option value="http://localhost:4000/docs/debugging/">Debugging</option>
            <option value="http://localhost:4000/docs/disabling-features/">Disabling features</option>
            <option value="http://localhost:4000/docs/configuring/">Metaconfiguring</option>
            <option value="http://localhost:4000/docs/xml-support/">XML support</option>
            <option value="http://localhost:4000/docs/event-support/">Event support</option>
            <option value="http://localhost:4000/docs/singleton/">Singleton</option>
        </optgroup>

        <optgroup label="Miscellaneous">
            <option value="http://localhost:4000/docs/features/">Features</option>
            <option value="http://localhost:4000/docs/why/">Why OWNER?</option>
            <option value="http://localhost:4000/docs/faq/">FAQ</option>
            <option value="http://localhost:4000/docs/support/">Getting support</option>
        </optgroup>

        <optgroup label="Meta">
            <option value="http://localhost:4000/docs/building/">Building from sources</option>
            <option value="http://localhost:4000/docs/contributing/">Contributing</option>
            <option value="http://localhost:4000/docs/license/">License</option>
        </optgroup>

        <optgroup label="Other stuff">
            <option value="http://localhost:4000/news/releases/">History</option>
            <option value="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.aeonbits.owner%22%20AND%20a%3A%22owner%22">Downloads</option>
            <option value="https://github.com/lviggiano/owner/releases">Releases</option>
            <option value="http://owner.newinstance.it/latest/apidocs/index.html">Javadocs</option>
            <option value="https://aeonbits.ci.cloudbees.com/job/owner-api/">Jenkins reports</option>
            <option value="https://travis-ci.org/lviggiano/owner">Travis CI reports</option>
            <option value="http://dev.aeonbits.org:9000/dashboard/index/org.aeonbits.owner:owner">Sonar reports</option>
            <option value="https://coveralls.io/r/lviggiano/owner">Coveralls reports</option>
            <option value="http://newinstance.it/owner/latest/">Maven site</option>
            <option value="https://www.ohloh.net/p/owner">OWNER at Ohloh</option>
        </optgroup>

    </select>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>XML support</h1>
          <p>Since JDK 1.5 Java properties support XML format via <code>loadFromXML()</code> and <code>storeToXML()</code></p>

<p>There is no reason why OWNER API shouldn&#39;t implement XML support as the Properties class.</p>

<p>But OWNER goes beyond that.</p>

<h2 id="the-java-xml-properties-format">The Java XML Properties format</h2>

<p>The <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Properties.html"><code>java.util.Properties</code></a>
class supports an XML format that looks like this:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="cp">&lt;!DOCTYPE properties SYSTEM &quot;http://java.sun.com/dtd/properties.dtd&quot;&gt;</span>
<span class="nt">&lt;properties&gt;</span>
    <span class="nt">&lt;comment&gt;</span>this is an example<span class="nt">&lt;/comment&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.ssh.alive.interval&quot;</span><span class="nt">&gt;</span>60<span class="nt">&lt;/entry&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.ssh.address&quot;</span><span class="nt">&gt;</span>127.0.0.1<span class="nt">&lt;/entry&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.http.port&quot;</span><span class="nt">&gt;</span>80<span class="nt">&lt;/entry&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.http.hostname&quot;</span><span class="nt">&gt;</span>localhost<span class="nt">&lt;/entry&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.ssh.user&quot;</span><span class="nt">&gt;</span>admin<span class="nt">&lt;/entry&gt;</span>
    <span class="nt">&lt;entry</span> <span class="na">key=</span><span class="s">&quot;server.ssh.port&quot;</span><span class="nt">&gt;</span>22<span class="nt">&lt;/entry&gt;</span>
<span class="nt">&lt;/properties&gt;</span>
</code></pre></div>
<p>Don&#39;t you agree that the above example is quite an unstructured XML format?</p>

<p>OWNER is able to load this XML as configuration properties, but it is also possible to specify an XML more structured,
that can be defined from the user on his own taste.</p>

<h2 id="the-user&#39;s-specified-xml-format">The user&#39;s specified XML format</h2>

<p>If you don&#39;t like the Java XML Properties format, then you can define an XML of your own:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;server&gt;</span>
    <span class="nt">&lt;http</span> <span class="na">port=</span><span class="s">&quot;80&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;hostname&gt;</span>localhost<span class="nt">&lt;/hostname&gt;</span>
    <span class="nt">&lt;/http&gt;</span>
    <span class="nt">&lt;ssh</span> <span class="na">port=</span><span class="s">&quot;22&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;address&gt;</span>127.0.0.1<span class="nt">&lt;/address&gt;</span>
        <span class="nt">&lt;alive</span> <span class="na">interval=</span><span class="s">&quot;60&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;user&gt;</span>admin<span class="nt">&lt;/user&gt;</span>
    <span class="nt">&lt;/ssh&gt;</span>
<span class="nt">&lt;/server&gt;</span>
</code></pre></div>
<p>For OWNER, the above example is equivalent to the example listed in the previous section (the Java XML Properties format)</p>

<p>XML elements, and XML attributes will be converted to properties names, and attribute values and element values will be
converted to properties values.</p>

<p>This means that the above xml would be equivalent to a properties file like the following:</p>
<div class="highlight"><pre><code class="language-properties" data-lang="properties"><span class="na">server.http.port</span><span class="o">=</span><span class="s">80</span>
<span class="na">server.http.hostname</span><span class="o">=</span><span class="s">localhost</span>
<span class="na">server.ssh.port</span><span class="o">=</span><span class="s">22</span>
<span class="na">server.ssh.address</span><span class="o">=</span><span class="s">127.0.0.1</span>
<span class="na">server.ssh.alive.interval</span><span class="o">=</span><span class="s">60</span>
<span class="na">server.ssh.user</span><span class="o">=</span><span class="s">admin</span>
</code></pre></div>
<h2 id="loading-the-xml">Loading the XML</h2>

<p>How to load the XML into OWNER Config object? Simple: in the same way as you already do for properties file.</p>

<p>Suppose you have a <em>mapping interface</em> class in a source file called <code>foo.bar.ServerConfig.java</code>, just place a
resource in your classpath in <code>foo.bar.ServerConfig.xml</code>. Or you can specify the <code>@Sources</code> annotation with an URL
pointing to an <code>file.xml</code>. OWNER will notice the <code>.xml</code> extension and will load the configuration source as XML.</p>

<p>The mapping interface for the two above XML examples is the following:</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">interface</span> <span class="nc">ServerConfig</span> <span class="kd">extends</span> <span class="n">Config</span> <span class="o">{</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.http.port&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">httpPort</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.http.hostname&quot;</span><span class="o">)</span>
    <span class="n">String</span> <span class="nf">httpHostname</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.ssh.port&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">sshPort</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.ssh.address&quot;</span><span class="o">)</span>
    <span class="n">String</span> <span class="nf">sshAddress</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.ssh.alive.interval&quot;</span><span class="o">)</span>
    <span class="kt">int</span> <span class="nf">aliveInterval</span><span class="o">();</span>

    <span class="nd">@Key</span><span class="o">(</span><span class="s">&quot;server.ssh.user&quot;</span><span class="o">)</span>
    <span class="n">String</span> <span class="nf">sshUser</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="storing-to-xml">Storing to XML</h2>

<p>If you are looking for the method to store a Config object into an XML stream, you should have a look at the method
<a href="http://owner.newinstance.it/latest/apidocs/org/aeonbits/owner/Accessible.html#storeToXML(java.io.OutputStream,+java.lang.String)"><code>storeToXML</code></a> in the <code>Accessible</code> interface.</p>

<p>When saving a Config object to XML, the Java XML Properties format will be used.</p>

<h2 id="conclusions">Conclusions</h2>

<p>If you like XML format more than properties format (well, <em>I don&#39;t</em>), you can use XML to achieve the same result as
using properties files.</p>

          <div class="section-nav">
  <div class="left align-right">
    
      <a href="http://localhost:4000/docs/configuring" class="prev">
        Back
      </a>
    
  </div>
  <div class="right align-left">
    
      <a href="http://localhost:4000/docs/event-support" class="next">
        Next
      </a>
    
  </div>
  <div class="clear"></div>
</div>


        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>

    <h4>Getting Started</h4>
    <ul>
      <li class="">
        <a href="http://localhost:4000/docs/welcome">Welcome</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/installation">Installation</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/usage">Basic usage</a>
      </li>
    </ul>

    <h4>More Features</h4>
    <ul>
    <li class="">
    <a href="http://localhost:4000/docs/loading-strategies">Loading strategies</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/importing-properties">Importing properties</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/parametrized-properties/">Parametrized properties</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/type-conversion/">Type conversion</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/variables-expansion/">Variables expansion</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/reload/">Reload and Hot Reload</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/accessible-mutable/">Accessible and Mutable</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/debugging/">Debugging</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/disabling-features/">Disabling features</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/configuring/">Metaconfiguring</a>
    </li>
    <li class="current">
    <a href="http://localhost:4000/docs/xml-support/">XML support</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/event-support/">Event support</a>
    </li>
    <li class="">
    <a href="http://localhost:4000/docs/singleton/">Singleton</a>
    </li>
</ul>


    <h4>Miscellaneous</h4>
    <ul>
        <li class="">
            <a href="http://localhost:4000/docs/features/">Features</a>
        </li>
        <li class="">
          <a href="http://localhost:4000/docs/why/">Why OWNER?</a>
        </li>
        <li class="">
            <a href="http://localhost:4000/docs/faq/">FAQ</a>
        </li>

        <li class="">
            <a href="http://localhost:4000/docs/support/">Getting support</a>
        </li>
    </ul>

    <h4>Meta</h4>
    <ul>
      <li class="">
        <a href="http://localhost:4000/docs/building">Building from sources</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/contributing">Contributing</a>
      </li>
      <li class="">
        <a href="http://localhost:4000/docs/license">License</a>
      </li>
    </ul>

    <h4>Other stuff</h4>
    <ul>
      <li><a href="http://localhost:4000/news/releases/">History</a></li>
      <li><a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.aeonbits.owner%22%20AND%20a%3A%22owner%22">Downloads</a></li>
      <li><a href="https://github.com/lviggiano/owner/releases">Releases</a></li>
      <li><a href="http://owner.newinstance.it/latest/apidocs/index.html">Javadocs</a></li>
      <li><a href="https://aeonbits.ci.cloudbees.com/job/owner-api/">Jenkins reports</a></li>
      <li><a href="https://travis-ci.org/lviggiano/owner">Travis CI reports</a></li>
      <li><a href="http://dev.aeonbits.org:9000/dashboard/index/org.aeonbits.owner:owner">Sonar reports</a></li>
      <li><a href="https://coveralls.io/r/lviggiano/owner">Coveralls reports</a></li>
      <li><a href="http://newinstance.it/owner/latest/">Maven site</a></li>
      <li><a href="https://www.ohloh.net/p/owner">OWNER at Ohloh</a></li>
    </ul>

  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>Project maintained by <a href="https://github.com/lviggiano">Luigi R. Viggiano</a>,
          and the <a href="https://github.com/lviggiano/owner/graphs/contributors">awesome contributors</a>.</p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Hosted on
        <a href="https://github.com">
          <img src="http://localhost:4000/img/footer-logo.png" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  


  <!-- Google Analytics (http://google.com/analytics) -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-462505-8']);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>

</html>

