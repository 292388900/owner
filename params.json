{"body":"OWNER\r\n=====\r\n\r\nOWNER, a simple API to ease Java™ property files usage.\r\n\r\nINTRODUCTION\r\n------------\r\n\r\nThe inspiring idea for this API comes from GWT i18n (see [here][gwt-i18n]).\r\n\r\nThe problem in using GWT i18n for loading property files is that it only works in client code (JavaScript), \r\nnot standard Java™ classes.\r\nAlso, GWT is a big library and it is designed for different purposes. \r\n\r\nSince I liked the approach I decided to implement something similar, and here we are.\r\n\r\n  [gwt-i18n]: https://developers.google.com/web-toolkit/doc/latest/DevGuideI18nConstants\r\n\r\nUSAGE\r\n-----\r\n\r\nThe approach used by OWNER APIs, is to define a Java™ interface associated to a Java™ properties file.\r\n\r\nSuppose your properties file is defined as ServerConfig.properties:\r\n\r\n    port=80\r\n    hostname=foobar.com\r\n    maxThreads=100\r\n    \r\nTo access this property you need to define a convenient Java™ interface in ServerConfig.java:\r\n\r\n    public interface ServerConfig extends Config {\r\n        int port();\r\n        String hostname();\r\n        int maxThreads();\r\n    }\r\n    \r\nThen, you can use it from inside your code:\r\n\r\n    public class MyApp {    \r\n        public static void main(String[] args) {\r\n            ServerConfig cfg = ConfigFactory.create(ServerConfig.class);\r\n            System.out.println(\"Server \" + cfg.hostname() + \":\" + cfg.port() + \" will run \" + cfg.maxThreads());\r\n        }\r\n    }\r\n\r\nThe mapping between the Java™ interface and the properties file can be automatically resolved by OWNER API.\r\nBy default OWNER API tries to load the properties for the interface com.foo.bar.ServerConfig from the classpath as\r\ncom.foo.bar.ServerConfig.properties; then it tries to assoaciate every method of the interface to the property keys \r\ncontained in the properties file.\r\n\r\nThis default mapping can be tailored to your needs using some annotations on the interface. \r\n\r\nExample:\r\n\r\n    @Sources({ \"file:~/.myapp.config\", \"file:/etc/myapp.config\", \"classpath:foo/bar/baz.properties\" })\r\n    public interface ServerConfig extends Config {\r\n        \r\n        @Key(\"server.http.port\")\r\n        int port();\r\n        \r\n        @Key(\"server.host.name\")\r\n        String hostname();\r\n        \r\n        @Key(\"server.max.threads\");\r\n        @DefaultValue(\"42\")\r\n        int maxThreads();\r\n    }\r\n\r\nIn the above example, OWNER will try to load the properties from several `@Sources`:\r\n\r\n 1. first, it will try to load from user's home directory ~/.myapp.config\r\n 2. if the previous attempt fails, then it will try to load the properties from /etc/myapp.config\r\n 3. and, as last resort, it will try to load the properties from the classpath loding the resource identified by the path foo/bar/baz.properties\r\n\r\nIn the `@Sources` annotation you can also specify system properties and/or environment variables with the syntax \r\n`file:${user.home}/.myapp.config` (this gets resolved by 'user.home' System property) or `file:${HOME}/.myapp.config`  \r\n(this gets resolved by the$HOME environment variable). The `~` used in the previous example is another example of \r\nvariable expansion, and it is equivalent to `${user.home}`\r\n\r\nDid you notice that there is also the `@DefaultValue(\"42\")` annotation specified in the example?\r\nThis annotation gets automatically converted to `int`, since `maxThreads()` returns an `int`, and the value specified is \r\nused as default, if `server.max.threads` key is not specified in the property file.\r\n\r\nThe `@DefaultValue` is very confortable to use, and the basic type conversion between the `String` value and the method \r\nreturn type are done automatically.\r\n\r\n### UNDEFINED PROPERTIES\r\n\r\nIf, in the example, ServerConfig interface cannot be mapped to any properties file, then all the methods in the interface \r\nwill return `null`, unless on the methods it is defined a `@DefaultValue` annotation, of course.\r\n\r\nIf, in the example, we omit `@DefaultValue` for `maxThreads()` and we forget to define the property key in the properties \r\nfiles, `null` will be used as default value.\r\n\r\n### PARAMETRIZED PROPERTIES\r\n\r\nAnother neat feature, is the possibility to provide parameters on method interfaces, then the property value shall respect \r\nthe positional notation specified by the [`java.util.Formatter`][fmt] class.\r\n\r\n  [fmt]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\r\n\r\nExample: \r\n\r\n    public interface SampleParamConfig extends Config {\r\n        @DefaultValue(\"Hello Mr. %s!\")\r\n        String helloMr(String name);\r\n    }\r\n    \r\n    SampleParamConfig cfg = ConfigFactory.create(SampleParamConfig.class);\r\n    System.out.println(cfg.helloMr(\"Luigi\")); // will println 'Hello Mr. Luigi!'\r\n\r\nJAVADOCS\r\n--------\r\n\r\nAPI javadocs can be found [here][javadocs].\r\n\r\n  [javadocs]: http://lviggiano.github.com/owner/target/site/apidocs/index.html\r\n\r\nBUILD\r\n-----\r\n\r\nOWNER uses maven to build.\r\n\r\n    $ git clone git://github.com/lviggiano/owner.git\r\n    $ cd owner\r\n    $ mvn install\r\n\r\nThis will install OWNER jars in your local maven repository. Or, you can pick the jar files from the target directory.\r\n\r\nMAVEN\r\n-----\r\n\r\nIf you are using maven, you can add the OWNER dependency in your project.\r\n\r\nFirst you need to add the OWNER repository:\r\n\r\n    <repositories>\r\n        <repository>\r\n            <id>owner-repo</id>\r\n            <url>http://lviggiano.github.com/owner/target/repo/release</url>\r\n        </repository>\r\n    </repositories>\r\n\r\nThen you can get the dependency:\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>owner</groupId>\r\n            <artifactId>owner</artifactId>\r\n            <version>1.0</version>\r\n        </dependency>\r\n    </dependencies>\r\n\r\n\r\nDOWNLOADS\r\n--------\r\n\r\nYou can download pre-built binaries from following links:\r\n\r\n * http://lviggiano.github.com/owner/target/owner-1.0-bin.tar.bz2\r\n * http://lviggiano.github.com/owner/target/owner-1.0-bin.tar.gz\r\n * http://lviggiano.github.com/owner/target/owner-1.0-bin.zip\r\n\r\nDEPENDENCIES\r\n------------\r\n\r\nOWNER depends from [commons-lang][] to do some variable expansions.\r\n\r\n  [commons-lang]: http://commons.apache.org/lang/\r\n\r\nTESTS\r\n-----\r\n\r\nOWNER codebase is very compact, and it is [fully covered][] by unit tests.\r\n\r\nTo execute the tests, you need maven properly installed and configured, \r\nthen run the following command from the distribution root:\r\n\r\n    $ mvn test\r\n\r\n  [fully covered]: http://lviggiano.github.com/owner/target/site/cobertura/index.html\r\n\r\nFAQ\r\n---\r\n### What does \"OWNER\" name mean?\r\n\r\nSince this API is used to access *Properties* files, and we implement interfaces to deal with those, \r\nsomehow interfaces are *owners* for the properties. So here comes the name OWNER.\r\n\r\n### Is OWNER a stable API?\r\n\r\nThe codebase is very compact, and the test coverage is almost 100%. So there shouldn't be many bugs to deal with.\r\nYou have the source, you can help improving the library and fix the bugs if you find some.\r\n\r\nStill, OWNER is very early, and APIs may change in the\r\nfuture to add/change some behaviors. \r\nFor example I would like to specify an annotation to define additional properties load policies. \r\nBut the goal is to keep the API backward compatible.\r\n\r\nLICENSE\r\n-------\r\n\r\nOWNER is released under the BSD license. \r\n\r\nSee LICENSE file included for the details.\r\n\r\nMORE INFORMATION\r\n----------------\r\n\r\nRefer to the documentation on the [web site][]\r\nor [github wiki][] for further details on how to use the OWNER API.\r\n\r\nIf you find some bug or have any request open an issue on [github issues][].\r\n\r\n  [web site]: http://lviggiano.github.com/owner\r\n  [github wiki]: https://github.com/lviggiano/owner/wiki\r\n  [github issues]: https://github.com/lviggiano/owner/issues\r\n","tagline":"Java™ properties files made super simple!","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"OWNER","google":"UA-462505-8"}